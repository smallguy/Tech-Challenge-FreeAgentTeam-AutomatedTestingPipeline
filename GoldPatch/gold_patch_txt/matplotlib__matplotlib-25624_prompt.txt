# 修复代码生成提示词（实例ID：matplotlib__matplotlib-25624）
## 代码仓库
matplotlib/matplotlib

## 原始问题描述
tight layout kwargs have no effect if rc autolayout setting is set (MPL 1.5.3)
### Bug report

**Bug summary**

kwargs passed to tight layout do not have an effect if rc the figure.autolayout setting is set

**Code for reproduction**

No padding is inserted in the following example if figure.autolayout is set to True in the rc

```python
import matplotlib.pyplot as plt
fig, axes = plt.subplots(ncols=2)
fig.tight_layout(w_pad=10)
```

**Matplotlib version**

Tested with a conda installed Matplotlib 1.5.3 on Ubuntu Linux.




## 参考黄金补丁（正确的修复方案）
diff --git a/lib/matplotlib/tests/test_figure.py b/lib/matplotlib/tests/test_figure.py
--- a/lib/matplotlib/tests/test_figure.py
+++ b/lib/matplotlib/tests/test_figure.py
@@ -659,6 +659,15 @@ def test_invalid_layouts():
         fig.set_layout_engine("constrained")
 
 
+@check_figures_equal(extensions=["png"])
+def test_tightlayout_autolayout_deconflict(fig_test, fig_ref):
+    for fig, autolayout in zip([fig_ref, fig_test], [False, True]):
+        with mpl.rc_context({'figure.autolayout': autolayout}):
+            axes = fig.subplots(ncols=2)
+            fig.tight_layout(w_pad=10)
+        assert isinstance(fig.get_layout_engine(), PlaceHolderLayoutEngine)
+
+
 @pytest.mark.parametrize('layout', ['constrained', 'compressed'])
 def test_layout_change_warning(layout):
     """