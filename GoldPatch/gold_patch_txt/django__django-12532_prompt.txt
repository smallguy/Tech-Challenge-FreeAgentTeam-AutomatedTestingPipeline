# 修复代码生成提示词（实例ID：django__django-12532）
## 代码仓库
django/django

## 原始问题描述
forms.ModelMultipleChoiceField should use "invalid_list" as error message key
Description
	
The MultipleChoiceField uses "invalid_list", but ModelMultipleChoiceField uses "list" as the key for the similar error message.


## 参考黄金补丁（正确的修复方案）
diff --git a/tests/forms_tests/tests/test_error_messages.py b/tests/forms_tests/tests/test_error_messages.py
--- a/tests/forms_tests/tests/test_error_messages.py
+++ b/tests/forms_tests/tests/test_error_messages.py
@@ -7,7 +7,8 @@
     SplitDateTimeField, TimeField, URLField, ValidationError, utils,
 )
 from django.template import Context, Template
-from django.test import SimpleTestCase, TestCase
+from django.test import SimpleTestCase, TestCase, ignore_warnings
+from django.utils.deprecation import RemovedInDjango40Warning
 from django.utils.safestring import mark_safe
 
 from ..models import ChoiceModel
@@ -301,9 +302,30 @@ def test_modelchoicefield(self):
         e = {
             'required': 'REQUIRED',
             'invalid_choice': '%(value)s IS INVALID CHOICE',
-            'list': 'NOT A LIST OF VALUES',
+            'invalid_list': 'NOT A LIST OF VALUES',
         }
         f = ModelMultipleChoiceField(queryset=ChoiceModel.objects.all(), error_messages=e)
         self.assertFormErrors(['REQUIRED'], f.clean, '')
         self.assertFormErrors(['NOT A LIST OF VALUES'], f.clean, '3')
         self.assertFormErrors(['4 IS INVALID CHOICE'], f.clean, ['4'])
+
+
+class DeprecationTests(TestCase, AssertFormErrorsMixin):
+    @ignore_warnings(category=RemovedInDjango40Warning)
+    def test_list_error_message(self):
+        f = ModelMultipleChoiceField(
+            queryset=ChoiceModel.objects.all(),
+            error_messages={'list': 'NOT A LIST OF VALUES'},
+        )
+        self.assertFormErrors(['NOT A LIST OF VALUES'], f.clean, '3')
+
+    def test_list_error_message_warning(self):
+        msg = (
+            "The 'list' error message key is deprecated in favor of "
+            "'invalid_list'."
+        )
+        with self.assertRaisesMessage(RemovedInDjango40Warning, msg):
+            ModelMultipleChoiceField(
+                queryset=ChoiceModel.objects.all(),
+                error_messages={'list': 'NOT A LIST OF VALUES'},
+            )