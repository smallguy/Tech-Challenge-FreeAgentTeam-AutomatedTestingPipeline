# 修复代码生成提示词（实例ID：sphinx-doc__sphinx-7351）
## 代码仓库
sphinx-doc/sphinx

## 原始问题描述
Files with same name but different extensions leads to unexpected behaviour
**Describe the bug**

If there are multiple files with the same name but different file extensions;
sphinx will silently choose only one to parse:

**To Reproduce**
Steps to reproduce the behavior:

Given I have an extension installed to parse  `md`

with:
```
index.rst
a.md
a.rst
```

index.rst:

```restructuredtext
.. toctree::
    a.md
```

This will actually include `a.rst` in the document, not `a.md`

**Expected behavior**
A clear and concise description of what you expected to happen.

Ideally you would have a config option to specify the order of preference for file extensions,
or if not set, a warning would be logged.

**Your project**
Link to your sphinx project, or attach zipped small project sample.

First noted in:
https://github.com/ExecutableBookProject/MyST-NB/pull/82#issuecomment-599255775

**Screenshots**
If applicable, add screenshots to help explain your problem.

**Environment info**
- OS: Mac
- Python version: 3.7.6
- Sphinx version: 2.4.4
- Sphinx extensions:  `myst-parser`

**Additional context**
Add any other context about the problem here.

- [e.g. URL or Ticket]




## 参考黄金补丁（正确的修复方案）
diff --git a/tests/test_util_logging.py b/tests/test_util_logging.py
--- a/tests/test_util_logging.py
+++ b/tests/test_util_logging.py
@@ -103,6 +103,17 @@ def test_nonl_info_log(app, status, warning):
     assert 'message1message2\nmessage3' in status.getvalue()
 
 
+def test_once_warning_log(app, status, warning):
+    logging.setup(app, status, warning)
+    logger = logging.getLogger(__name__)
+
+    logger.warning('message: %d', 1, once=True)
+    logger.warning('message: %d', 1, once=True)
+    logger.warning('message: %d', 2, once=True)
+
+    assert 'WARNING: message: 1\nWARNING: message: 2\n' in strip_escseq(warning.getvalue())
+
+
 def test_is_suppressed_warning():
     suppress_warnings = ["ref", "files.*", "rest.duplicated_labels"]