# 修复代码生成提示词（实例ID：django__django-11323）
## 代码仓库
django/django

## 原始问题描述
Required SelectDateWidget renders invalid HTML
Description
	
SelectDateWidget in required field renders an invalid HTML. According to standard ​https://www.w3.org/TR/html5/sec-forms.html#placeholder-label-option every select with required attribute must have a placeholder option, i.e. first option must have an empty string as a value. That is not a case of SelectDateWidget.
Example
from django import forms
class FooForm(forms.Form):
	a_date = forms.DateField(widget=forms.SelectDateWidget)
form = FooForm()
str(form) # >>> ...<select name="a_date_month" required id="id_a_date_month"><option value="1">January</option>...


## 参考黄金补丁（正确的修复方案）
diff --git a/tests/forms_tests/widget_tests/test_selectdatewidget.py b/tests/forms_tests/widget_tests/test_selectdatewidget.py
--- a/tests/forms_tests/widget_tests/test_selectdatewidget.py
+++ b/tests/forms_tests/widget_tests/test_selectdatewidget.py
@@ -314,6 +314,46 @@ class GetRequiredDate(Form):
         self.assertFalse(GetNotRequiredDate().fields['mydate'].widget.is_required)
         self.assertTrue(GetRequiredDate().fields['mydate'].widget.is_required)
 
+    def test_selectdate_required_placeholder(self):
+        for required in (True, False):
+            field = DateField(widget=SelectDateWidget(years=('2018', '2019')), required=required)
+            self.check_html(field.widget, 'my_date', '', html=(
+                """
+                <select name="my_date_month" id="id_my_date_month" %(m_placeholder)s>
+                    %(empty)s
+                    <option value="1">January</option>
+                    <option value="2">February</option>
+                    <option value="3">March</option>
+                    <option value="4">April</option>
+                    <option value="5">May</option>
+                    <option value="6">June</option>
+                    <option value="7">July</option>
+                    <option value="8">August</option>
+                    <option value="9">September</option>
+                    <option value="10">October</option>
+                    <option value="11">November</option>
+                    <option value="12">December</option>
+                </select>
+                <select name="my_date_day" id="id_my_date_day" %(d_placeholder)s>
+                    %(empty)s
+                    %(days_options)s
+                </select>
+                <select name="my_date_year" id="id_my_date_year" %(y_placeholder)s>
+                    %(empty)s
+                    <option value="2018">2018</option>
+                    <option value="2019">2019</option>
+                </select>
+                """ % {
+                    'days_options': '\n'.join(
+                        '<option value="%s">%s</option>' % (i, i) for i in range(1, 32)
+                    ),
+                    'm_placeholder': 'placeholder="Month"' if required else '',
+                    'd_placeholder': 'placeholder="Day"' if required else '',
+                    'y_placeholder': 'placeholder="Year"' if required else '',
+                    'empty': '' if required else '<option selected value="">---</option>',
+                }
+            ))
+
     def test_selectdate_empty_label(self):
         w = SelectDateWidget(years=('2014',), empty_label='empty_label')