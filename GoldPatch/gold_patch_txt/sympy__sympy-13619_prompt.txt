# 修复代码生成提示词（实例ID：sympy__sympy-13619）
## 代码仓库
sympy/sympy

## 原始问题描述
Undefined functions with number arguments should have is_number be False
```
>>> Function('f')(1).is_number
True

Perhaps it would be better to have this be False since it can't be evaluated to a number with evalf. Alternatively, such quantitites should be disallowed in solve (solve(f(1) - 2, f(1)) gives [2]) and Indexed variables used instead.
```

Original issue for #6646: http://code.google.com/p/sympy/issues/detail?id=3547
Original author: https://code.google.com/u/117933771799683895267/



## 参考黄金补丁（正确的修复方案）
diff --git a/sympy/calculus/tests/test_util.py b/sympy/calculus/tests/test_util.py
--- a/sympy/calculus/tests/test_util.py
+++ b/sympy/calculus/tests/test_util.py
@@ -354,5 +354,8 @@ def test_comparison_AccumBounds():
 def test_contains_AccumBounds():
     assert (1 in AccumBounds(1, 2)) == S.true
     raises(TypeError, lambda: a in AccumBounds(1, 2))
+    assert 0 in AccumBounds(-1, 0)
+    raises(TypeError, lambda:
+        (cos(1)**2 + sin(1)**2 - 1) in AccumBounds(-1, 0))
     assert (-oo in AccumBounds(1, oo)) == S.true
     assert (oo in AccumBounds(-oo, 0)) == S.true
diff --git a/sympy/core/tests/test_basic.py b/sympy/core/tests/test_basic.py
--- a/sympy/core/tests/test_basic.py
+++ b/sympy/core/tests/test_basic.py
@@ -245,11 +245,10 @@ def test_literal_evalf_is_number_is_zero_is_comparable():
     x = symbols('x')
     f = Function('f')
 
-    # the following should not be changed without a lot of dicussion
-    # `foo.is_number` should be equivalent to `not foo.free_symbols`
-    # it should not attempt anything fancy; see is_zero, is_constant
-    # and equals for more rigorous tests.
-    assert f(1).is_number is True
+    # issue 5033
+    assert f.is_number is False
+    # issue 6646
+    assert f(1).is_number is False
     i = Integral(0, (x, x, x))
     # expressions that are symbolically 0 can be difficult to prove
     # so in case there is some easy way to know if something is 0
diff --git a/sympy/core/tests/test_expr.py b/sympy/core/tests/test_expr.py
--- a/sympy/core/tests/test_expr.py
+++ b/sympy/core/tests/test_expr.py
@@ -1522,6 +1522,7 @@ def test_is_constant():
     assert checksol(x, x, Sum(x, (x, 1, n))) is False
     assert checksol(x, x, Sum(x, (x, 1, n))) is False
     f = Function('f')
+    assert f(1).is_constant
     assert checksol(x, x, f(x)) is False
 
     p = symbols('p', positive=True)