# 修复代码生成提示词（实例ID：django__django-13371）
## 代码仓库
django/django

## 原始问题描述
django.db.models.query.Row is not pickleable.
Description
	 
		(last modified by Mariusz Felisiak)
	 
The new named parameter of QuerySet.values_list() was released In Django 2.0 (#15648).
But resulted namedtuple-s can't be pickled:
class ModelA(models.Model):
	value = models.CharField(max_length=12)
In [12]: row = ModelA.objects.values_list('id', 'value', named=True).first()
In [14]: type(row)																																																						 
Out[14]: django.db.models.query.Row
In [16]: pickle.dumps(row)																																																				 
PicklingError: Can't pickle <class 'django.db.models.query.Row'>: attribute lookup Row on django.db.models.query failed
In particular, as a result, such requests do not work with cacheops package.


## 参考黄金补丁（正确的修复方案）
diff --git a/tests/queries/tests.py b/tests/queries/tests.py
--- a/tests/queries/tests.py
+++ b/tests/queries/tests.py
@@ -2408,6 +2408,11 @@ def test_named_values_list_expression(self):
         values = qs.first()
         self.assertEqual(values._fields, ('combinedexpression2', 'combinedexpression1'))
 
+    def test_named_values_pickle(self):
+        value = Number.objects.values_list('num', 'other_num', named=True).get()
+        self.assertEqual(value, (72, None))
+        self.assertEqual(pickle.loads(pickle.dumps(value)), value)
+
 
 class QuerySetSupportsPythonIdioms(TestCase):