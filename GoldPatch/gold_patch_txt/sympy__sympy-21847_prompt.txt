# 修复代码生成提示词（实例ID：sympy__sympy-21847）
## 代码仓库
sympy/sympy

## 原始问题描述
itermonomials returns incorrect monomials when using min_degrees argument
`itermonomials` returns incorrect monomials when using optional `min_degrees` argument

For example, the following code introduces three symbolic variables and generates monomials with max and min degree of 3:


```
import sympy as sp
from sympy.polys.orderings import monomial_key

x1, x2, x3 = sp.symbols('x1, x2, x3')
states = [x1, x2, x3]
max_degrees = 3
min_degrees = 3
monomials = sorted(sp.itermonomials(states, max_degrees, min_degrees=min_degrees), 
                   key=monomial_key('grlex', states))
print(monomials)
```
The code returns `[x3**3, x2**3, x1**3]`, when it _should_ also return monomials such as `x1*x2**2, x2*x3**2, etc...` that also have total degree of 3. This behaviour is inconsistent with the documentation that states that 

> A generator of all monomials `monom` is returned, such that either `min_degree <= total_degree(monom) <= max_degree`...

The monomials are also missing when `max_degrees` is increased above `min_degrees`.


## 参考黄金补丁（正确的修复方案）
diff --git a/sympy/polys/tests/test_monomials.py b/sympy/polys/tests/test_monomials.py
--- a/sympy/polys/tests/test_monomials.py
+++ b/sympy/polys/tests/test_monomials.py
@@ -15,7 +15,6 @@
 from sympy.core import S, symbols
 from sympy.testing.pytest import raises
 
-
 def test_monomials():
 
     # total_degree tests
@@ -114,6 +113,9 @@ def test_monomials():
     assert set(itermonomials([x], [3], [1])) == {x, x**3, x**2}
     assert set(itermonomials([x], [3], [2])) == {x**3, x**2}
 
+    assert set(itermonomials([x, y], 3, 3)) == {x**3, x**2*y, x*y**2, y**3}
+    assert set(itermonomials([x, y], 3, 2)) == {x**2, x*y, y**2, x**3, x**2*y, x*y**2, y**3}
+
     assert set(itermonomials([x, y], [0, 0])) == {S.One}
     assert set(itermonomials([x, y], [0, 1])) == {S.One, y}
     assert set(itermonomials([x, y], [0, 2])) == {S.One, y, y**2}
@@ -132,6 +134,15 @@ def test_monomials():
             {S.One, y**2, x*y**2, x, x*y, x**2, x**2*y**2, y, x**2*y}
 
     i, j, k = symbols('i j k', commutative=False)
+    assert set(itermonomials([i, j, k], 2, 2)) == \
+            {k*i, i**2, i*j, j*k, j*i, k**2, j**2, k*j, i*k}
+    assert set(itermonomials([i, j, k], 3, 2)) == \
+            {j*k**2, i*k**2, k*i*j, k*i**2, k**2, j*k*j, k*j**2, i*k*i, i*j,
+                    j**2*k, i**2*j, j*i*k, j**3, i**3, k*j*i, j*k*i, j*i,
+                    k**2*j, j*i**2, k*j, k*j*k, i*j*i, j*i*j, i*j**2, j**2,
+                    k*i*k, i**2, j*k, i*k, i*k*j, k**3, i**2*k, j**2*i, k**2*i,
+                    i*j*k, k*i
+            }
     assert set(itermonomials([i, j, k], [0, 0, 0])) == {S.One}
     assert set(itermonomials([i, j, k], [0, 0, 1])) == {1, k}
     assert set(itermonomials([i, j, k], [0, 1, 0])) == {1, j}