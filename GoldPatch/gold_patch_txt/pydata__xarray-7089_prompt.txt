# 修复代码生成提示词（实例ID：pydata__xarray-7089）
## 代码仓库
pydata/xarray

## 原始问题描述
Dataset.copy(deep=True) does not deepcopy .attrs
But it would be expected (at least by me) that it does.


## 参考黄金补丁（正确的修复方案）
diff --git a/xarray/tests/test_dataarray.py b/xarray/tests/test_dataarray.py
--- a/xarray/tests/test_dataarray.py
+++ b/xarray/tests/test_dataarray.py
@@ -6458,7 +6458,6 @@ def test_delete_coords() -> None:
     assert set(a1.coords.keys()) == {"x"}
 
 
-@pytest.mark.xfail
 def test_deepcopy_nested_attrs() -> None:
     """Check attrs deep copy, see :issue:`2835`"""
     da1 = xr.DataArray([[1, 2], [3, 4]], dims=("x", "y"), coords={"x": [10, 20]})