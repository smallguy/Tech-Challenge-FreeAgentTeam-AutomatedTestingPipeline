# 修复代码生成提示词（实例ID：sympy__sympy-13369）
## 代码仓库
sympy/sympy

## 原始问题描述
Eigenvalues of a 3 by 3 symbolic matrix are not found by .eigenvals
```
from sympy import *
x = Symbol('x')
M = Matrix([[x, 0, 1], [x, 0, 2], [exp(x), 1, 0]])
M.eigenvals()
```

throws 

>  sympy.matrices.common.MatrixError: Could not compute eigenvalues for Matrix([[x, 0, 1], [x, 0, 2], [exp(x), 1, 0]])

Since the characteristic polynomial is cubic, it can be solved explicitly:

```
lam = Symbol('lambda')
solve(det(lam*eye(3) -M), lam) 
```

returns three roots of the characteristic polynomial. I do not understand why these are not found by `roots(M.charpoly())` which returns `{}` (hence the failure of `eigenvals` method). Declaring x as a real symbol does not help. 

Based on Stack Overflow post [Computation of symbolic eigenvalues with sympy](https://stackoverflow.com/q/46361388#46374276)


## 参考黄金补丁（正确的修复方案）
diff --git a/sympy/polys/tests/test_polyroots.py b/sympy/polys/tests/test_polyroots.py
--- a/sympy/polys/tests/test_polyroots.py
+++ b/sympy/polys/tests/test_polyroots.py
@@ -97,6 +97,12 @@ def test_issue_8289():
     assert roots == _nsort(roots)
 
 
+def test_issue_13340():
+    eq = Poly(y**3 + exp(x)*y + x, y, domain='EX')
+    roots_d = roots(eq)
+    assert len(roots_d) == 3
+
+
 def test_roots_cubic():
     assert roots_cubic(Poly(2*x**3, x)) == [0, 0, 0]
     assert roots_cubic(Poly(x**3 - 3*x**2 + 3*x - 1, x)) == [1, 1, 1]