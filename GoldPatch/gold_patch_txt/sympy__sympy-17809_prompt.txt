# 修复代码生成提示词（实例ID：sympy__sympy-17809）
## 代码仓库
sympy/sympy

## 原始问题描述
Modified is_positive for cosh function
Fixes #11721.

`cosh(x).is_positive` returns `True` if x is real.
Also modified the `Abs` function to return the function itself or its negative if the function is positive or negative.

Example:
```
In [1]: r=symbols('r',real=True)

In [2]: abs(cosh(x))
Out[2]: │cosh(x)│

In [3]: abs(cosh(r))
Out[3]: cosh(r)

In [4]: abs(cosh(r)) == cosh(r)
Out[4]: True

In [5]: abs(cosh(x)) == cosh(x)
Out[5]: False

In [6]: cosh(r).is_positive
Out[6]: True

In [7]: cosh(x).is_positive

In [8]:      
```
abs(cosh(x)) should simplify to cosh(x) for real x
Sympy 1.0 only simplifies in a limited set of cases:

``` py
>>> x = sympy.var('x', real=True)
>>> abs(sympy.cosh(x)).simplify()
Abs(cosh(x)) # bad
>>> (sympy.cosh(x) - abs(sympy.cosh(x))).simplify()
0 # good
>>> (sympy.cosh(x) + abs(sympy.cosh(x))).simplify()
cosh(x) + Abs(cosh(x)) # bad
```



## 参考黄金补丁（正确的修复方案）
diff --git a/sympy/functions/elementary/tests/test_hyperbolic.py b/sympy/functions/elementary/tests/test_hyperbolic.py
--- a/sympy/functions/elementary/tests/test_hyperbolic.py
+++ b/sympy/functions/elementary/tests/test_hyperbolic.py
@@ -1097,6 +1097,29 @@ def test_cosh_expansion():
     assert cosh(3*x).expand(trig=True).expand() == \
         3*sinh(x)**2*cosh(x) + cosh(x)**3
 
+def test_cosh_positive():
+    # See issue 11721
+    # cosh(x) is positive for real values of x
+    x = symbols('x')
+    k = symbols('k', real=True)
+    n = symbols('n', integer=True)
+
+    assert cosh(k).is_positive is True
+    assert cosh(k + 2*n*pi*I).is_positive is True
+    assert cosh(I*pi/4).is_positive is True
+    assert cosh(3*I*pi/4).is_positive is False
+
+def test_cosh_nonnegative():
+    x = symbols('x')
+    k = symbols('k', real=True)
+    n = symbols('n', integer=True)
+
+    assert cosh(k).is_nonnegative is True
+    assert cosh(k + 2*n*pi*I).is_nonnegative is True
+    assert cosh(I*pi/4).is_nonnegative is True
+    assert cosh(3*I*pi/4).is_nonnegative is False
+    assert cosh(S.Zero).is_nonnegative is True
+
 def test_real_assumptions():
     z = Symbol('z', real=False)
     assert sinh(z).is_real is None