# 修复代码生成提示词（实例ID：django__django-14451）
## 代码仓库
django/django

## 原始问题描述
adding support for self closing tags in syndication feeds
Description
	
the code for syndication feeds was written in a time where self closing tags didn't exist. but today, if an element has no text between the tags, the standard is that it should be a self closing tag. python added this functionality in 3.2 to XMLGenerator but django still doesn't use this in generating syndication feeds. this is the matter of passing a single argument to the SimplerXMLGenerator that django uses for generating feeds. since SimplerXMLGenerator directly inherits from pythons XMLGenrator, passing the arguments works with this class too .
this is my attempt at making it right
​https://github.com/django/django/pull/14451


## 参考黄金补丁（正确的修复方案）
diff --git a/tests/syndication_tests/tests.py b/tests/syndication_tests/tests.py
--- a/tests/syndication_tests/tests.py
+++ b/tests/syndication_tests/tests.py
@@ -7,7 +7,9 @@
 from django.test import TestCase, override_settings
 from django.test.utils import requires_tz_support
 from django.utils import timezone
-from django.utils.feedgenerator import rfc2822_date, rfc3339_date
+from django.utils.feedgenerator import (
+    Atom1Feed, Rss201rev2Feed, rfc2822_date, rfc3339_date,
+)
 
 from .models import Article, Entry
 
@@ -420,6 +422,22 @@ def test_aware_datetime_conversion(self):
         published = doc.getElementsByTagName('published')[0].firstChild.wholeText
         self.assertEqual(published[-6:], '+00:42')
 
+    def test_feed_no_content_self_closing_tag(self):
+        tests = [
+            (Atom1Feed, 'link'),
+            (Rss201rev2Feed, 'atom:link'),
+        ]
+        for feedgenerator, tag in tests:
+            with self.subTest(feedgenerator=feedgenerator.__name__):
+                feed = feedgenerator(
+                    title='title',
+                    link='https://example.com',
+                    description='self closing tags test',
+                    feed_url='https://feed.url.com',
+                )
+                doc = feed.writeString('utf-8')
+                self.assertIn(f'<{tag} href="https://feed.url.com" rel="self"/>', doc)
+
     @requires_tz_support
     def test_feed_last_modified_time_naive_date(self):
         """