# 修复代码生成提示词（实例ID：django__django-16686）
## 代码仓库
django/django

## 原始问题描述
values() doesn't mention annotations as valid choices on resolving error
Description
	
When doing
Book.objects.annotate(annotation=Value(1)).values("annotation_type")
The resulting FieldError doesn't mention annotation as a valid choice
FieldError: Cannot resolve keyword 'annotation_typo' into field. Choices are: age, book, book_contact_set, friends, id, name


## 参考黄金补丁（正确的修复方案）
diff --git a/tests/annotations/tests.py b/tests/annotations/tests.py
--- a/tests/annotations/tests.py
+++ b/tests/annotations/tests.py
@@ -33,6 +33,7 @@
     Lower,
     Trim,
 )
+from django.db.models.sql.query import get_field_names_from_opts
 from django.test import TestCase, skipUnlessDBFeature
 from django.test.utils import register_lookup
 
@@ -465,6 +466,16 @@ def test_filter_wrong_annotation(self):
                 )
             )
 
+    def test_values_wrong_annotation(self):
+        expected_message = (
+            "Cannot resolve keyword 'annotation_typo' into field. Choices are: %s"
+        )
+        article_fields = ", ".join(
+            ["annotation"] + sorted(get_field_names_from_opts(Book._meta))
+        )
+        with self.assertRaisesMessage(FieldError, expected_message % article_fields):
+            Book.objects.annotate(annotation=Value(1)).values_list("annotation_typo")
+
     def test_decimal_annotation(self):
         salary = Decimal(10) ** -Employee._meta.get_field("salary").decimal_places
         Employee.objects.create(