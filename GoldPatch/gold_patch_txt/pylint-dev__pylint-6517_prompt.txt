# 修复代码生成提示词（实例ID：pylint-dev__pylint-6517）
## 代码仓库
pylint-dev/pylint

## 原始问题描述
Pylint runs unexpectedly pass if `confidence=` in pylintrc
### Bug description

Runs unexpectedly pass in 2.14 if a pylintrc file has `confidence=`.

(Default pylintrc files have `confidence=`. `pylint`'s own config was fixed in #6140 to comment it out, but this might bite existing projects.)

```python
import time
```

### Configuration

```ini
[MESSAGES CONTROL]
confidence=
```


### Command used

```shell
python3 -m pylint a.py --enable=all
```


### Pylint output

```shell
--------------------------------------------------------------------
Your code has been rated at 10.00/10 (previous run: 10.00/10, +0.00)
```


### Expected behavior
```
************* Module a

a.py:2:0: C0305: Trailing newlines (trailing-newlines)
a.py:1:0: C0114: Missing module docstring (missing-module-docstring)
a.py:1:0: W0611: Unused import time (unused-import)

--------------------------------------------------------------------
Your code has been rated at 0.00/10 (previous run: 10.00/10, -10.00)
```
### Pylint version

```shell
pylint 2.14.0-dev0
astroid 2.12.0-dev0
Python 3.10.2 (v3.10.2:a58ebcc701, Jan 13 2022, 14:50:16) [Clang 13.0.0 (clang-1300.0.29.30)]
```


### OS / Environment

_No response_

### Additional dependencies

_No response_


## 参考黄金补丁（正确的修复方案）
diff --git a/tests/config/test_config.py b/tests/config/test_config.py
--- a/tests/config/test_config.py
+++ b/tests/config/test_config.py
@@ -10,6 +10,7 @@
 import pytest
 from pytest import CaptureFixture
 
+from pylint.interfaces import CONFIDENCE_LEVEL_NAMES
 from pylint.lint import Run as LintRun
 from pylint.testutils._run import _Run as Run
 from pylint.testutils.configuration_test import run_using_a_configuration_file
@@ -88,6 +89,12 @@ def test_unknown_confidence(capsys: CaptureFixture) -> None:
     assert "argument --confidence: UNKNOWN_CONFIG should be in" in output.err
 
 
+def test_empty_confidence() -> None:
+    """An empty confidence value indicates all errors should be emitted."""
+    r = Run([str(EMPTY_MODULE), "--confidence="], exit=False)
+    assert r.linter.config.confidence == CONFIDENCE_LEVEL_NAMES
+
+
 def test_unknown_yes_no(capsys: CaptureFixture) -> None:
     """Check that we correctly error on an unknown yes/no value."""
     with pytest.raises(SystemExit):