# 修复代码生成提示词（实例ID：sympy__sympy-14082）
## 代码仓库
sympy/sympy

## 原始问题描述
Integrate(1/(x**2 + y**2), x) returns a wrong result
```
>>> x = symbols('x', real = True)
>>> y = symbols('y', real = True)
>>> f = 1 / (x**2 + y**2)
>>> res = integrate(f, x)
>>> print(res)
0
```

The correct result is `atan(x/y) / y`. It seems similar to #8246.



## 参考黄金补丁（正确的修复方案）
diff --git a/sympy/integrals/tests/test_rationaltools.py b/sympy/integrals/tests/test_rationaltools.py
--- a/sympy/integrals/tests/test_rationaltools.py
+++ b/sympy/integrals/tests/test_rationaltools.py
@@ -133,6 +133,26 @@ def test_issue_10488():
     a,b,c,x = symbols('a b c x', real=True, positive=True)
     assert integrate(x/(a*x+b),x) == x/a - b*log(a*x + b)/a**2
 
+
+def test_issues_8246_12050_13501_14080():
+    a = symbols('a', real=True)
+    assert integrate(a/(x**2 + a**2), x) == atan(x/a)
+    assert integrate(1/(x**2 + a**2), x) == atan(x/a)/a
+    assert integrate(1/(1 + a**2*x**2), x) == atan(a*x)/a
+
+
+def test_issue_6308():
+    k, a0 = symbols('k a0', real=True)
+    assert integrate((x**2 + 1 - k**2)/(x**2 + 1 + a0**2), x) == \
+        x - (a0**2 + k**2)*atan(x/sqrt(a0**2 + 1))/sqrt(a0**2 + 1)
+
+
+def test_issue_5907():
+    a = symbols('a', real=True)
+    assert integrate(1/(x**2 + a**2)**2, x) == \
+         x/(2*a**4 + 2*a**2*x**2) + atan(x/a)/(2*a**3)
+
+
 def test_log_to_atan():
     f, g = (Poly(x + S(1)/2, x, domain='QQ'), Poly(sqrt(3)/2, x, domain='EX'))
     fg_ans = 2*atan(2*sqrt(3)*x/3 + sqrt(3)/3)