# 修复代码生成提示词（实例ID：matplotlib__matplotlib-24431）
## 代码仓库
matplotlib/matplotlib

## 原始问题描述
eventplot: allow a list of alpha channels as in the case with colors
I'm not sure if it's a bug or a feature. It's both.

```python
>>> plt.eventplot([[0, 1, 2], [0.5, 2.3]], color=['r', 'g'])
```
works while
```python
>>> plt.eventplot([[0, 1, 2], [0.5, 2.3]], alpha=[0.5, 0.2])
```
throws an error
```
Traceback (most recent call last):
  File "/home/ulianych/anaconda3/envs/viziphant/lib/python3.7/site-packages/IPython/core/interactiveshell.py", line 3319, in run_code
    exec(code_obj, self.user_global_ns, self.user_ns)
  File "<ipython-input-2-fab7f3737c6e>", line 1, in <module>
    plt.eventplot([[0, 1, 2], [0.5, 2.3]], alpha=[0.5, 0.2])
  File "/home/ulianych/anaconda3/envs/viziphant/lib/python3.7/site-packages/matplotlib/pyplot.py", line 2622, in eventplot
    **({"data": data} if data is not None else {}), **kwargs)
  File "/home/ulianych/anaconda3/envs/viziphant/lib/python3.7/site-packages/matplotlib/__init__.py", line 1447, in inner
    return func(ax, *map(sanitize_sequence, args), **kwargs)
  File "/home/ulianych/anaconda3/envs/viziphant/lib/python3.7/site-packages/matplotlib/axes/_axes.py", line 1480, in eventplot
    coll.update(kwargs)
  File "/home/ulianych/anaconda3/envs/viziphant/lib/python3.7/site-packages/matplotlib/artist.py", line 998, in update
    ret.append(func(v))
  File "/home/ulianych/anaconda3/envs/viziphant/lib/python3.7/site-packages/matplotlib/collections.py", line 834, in set_alpha
    super().set_alpha(alpha)
  File "/home/ulianych/anaconda3/envs/viziphant/lib/python3.7/site-packages/matplotlib/artist.py", line 930, in set_alpha
    raise TypeError('alpha must be a float or None')
TypeError: alpha must be a float or None
```

matplotlib v3.3.3
Python 3.7.6


## 参考黄金补丁（正确的修复方案）
diff --git a/lib/matplotlib/tests/test_axes.py b/lib/matplotlib/tests/test_axes.py
--- a/lib/matplotlib/tests/test_axes.py
+++ b/lib/matplotlib/tests/test_axes.py
@@ -4559,6 +4559,26 @@ def test_eventplot_colors(colors):
         assert_allclose(coll.get_color(), color)
 
 
+def test_eventplot_alpha():
+    fig, ax = plt.subplots()
+
+    # one alpha for all
+    collections = ax.eventplot([[0, 2, 4], [1, 3, 5, 7]], alpha=0.7)
+    assert collections[0].get_alpha() == 0.7
+    assert collections[1].get_alpha() == 0.7
+
+    # one alpha per collection
+    collections = ax.eventplot([[0, 2, 4], [1, 3, 5, 7]], alpha=[0.5, 0.7])
+    assert collections[0].get_alpha() == 0.5
+    assert collections[1].get_alpha() == 0.7
+
+    with pytest.raises(ValueError, match="alpha and positions are unequal"):
+        ax.eventplot([[0, 2, 4], [1, 3, 5, 7]], alpha=[0.5, 0.7, 0.9])
+
+    with pytest.raises(ValueError, match="alpha and positions are unequal"):
+        ax.eventplot([0, 2, 4], alpha=[0.5, 0.7])
+
+
 @image_comparison(['test_eventplot_problem_kwargs.png'], remove_text=True)
 def test_eventplot_problem_kwargs(recwarn):
     """