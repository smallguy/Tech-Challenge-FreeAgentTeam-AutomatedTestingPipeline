# 修复代码生成提示词（实例ID：pydata__xarray-6804）
## 代码仓库
pydata/xarray

## 原始问题描述
Use pytorch as backend for xarrays
I would be interested in using pytorch as a backend for xarrays - because:
a)  pytorch is very similar to numpy - so the conceptual overhead is small
b) [most helpful] enable having a GPU as the underlying hardware for compute - which would provide non-trivial speed up
c) it would allow seamless integration with deep-learning algorithms and techniques

Any thoughts on what the interest for such a feature might be ? I would be open to implementing parts of it - so any suggestions on where I could start ?

Thanks




## 参考黄金补丁（正确的修复方案）
diff --git a/xarray/tests/test_array_api.py b/xarray/tests/test_array_api.py
new file mode 100644
--- /dev/null
+++ b/xarray/tests/test_array_api.py
@@ -0,0 +1,51 @@
+from typing import Tuple
+
+import pytest
+
+import xarray as xr
+from xarray.testing import assert_equal
+
+np = pytest.importorskip("numpy", minversion="1.22")
+
+import numpy.array_api as xp  # isort:skip
+from numpy.array_api._array_object import Array  # isort:skip
+
+
+@pytest.fixture
+def arrays() -> Tuple[xr.DataArray, xr.DataArray]:
+    np_arr = xr.DataArray(np.ones((2, 3)), dims=("x", "y"), coords={"x": [10, 20]})
+    xp_arr = xr.DataArray(xp.ones((2, 3)), dims=("x", "y"), coords={"x": [10, 20]})
+    assert isinstance(xp_arr.data, Array)
+    return np_arr, xp_arr
+
+
+def test_arithmetic(arrays) -> None:
+    np_arr, xp_arr = arrays
+    expected = np_arr + 7
+    actual = xp_arr + 7
+    assert isinstance(actual.data, Array)
+    assert_equal(actual, expected)
+
+
+def test_aggregation(arrays) -> None:
+    np_arr, xp_arr = arrays
+    expected = np_arr.sum(skipna=False)
+    actual = xp_arr.sum(skipna=False)
+    assert isinstance(actual.data, Array)
+    assert_equal(actual, expected)
+
+
+def test_indexing(arrays) -> None:
+    np_arr, xp_arr = arrays
+    expected = np_arr[:, 0]
+    actual = xp_arr[:, 0]
+    assert isinstance(actual.data, Array)
+    assert_equal(actual, expected)
+
+
+def test_reorganizing_operation(arrays) -> None:
+    np_arr, xp_arr = arrays
+    expected = np_arr.transpose()
+    actual = xp_arr.transpose()
+    assert isinstance(actual.data, Array)
+    assert_equal(actual, expected)