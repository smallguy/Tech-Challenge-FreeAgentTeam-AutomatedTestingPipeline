# 修复代码生成提示词（实例ID：sympy__sympy-24370）
## 代码仓库
sympy/sympy

## 原始问题描述
Floor division with sympy.Integer gives: Argument of Integer should be of numeric type, got floor(1024/s0)
```
import sympy

s0 = sympy.Symbol('s0')
sympy.Integer(1024)//s0
```

gives

```
Traceback (most recent call last):
  File "/Users/ezyang/Dev/sympy/sympy/core/numbers.py", line 2098, in __new__
    ival = int(i)
  File "/Users/ezyang/Dev/sympy/sympy/core/expr.py", line 320, in __int__
    raise TypeError("Cannot convert symbols to int")
TypeError: Cannot convert symbols to int

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "repro.py", line 4, in <module>
    sympy.Integer(1024)//s0
  File "/Users/ezyang/Dev/sympy/sympy/core/decorators.py", line 65, in __sympifyit_wrapper
    return func(a, b)
  File "/Users/ezyang/Dev/sympy/sympy/core/numbers.py", line 2426, in __floordiv__
    return Integer(divmod(self, other)[0])
  File "/Users/ezyang/Dev/sympy/sympy/core/cache.py", line 72, in wrapper
    retval = cfunc(*args, **kwargs)
  File "/Users/ezyang/Dev/sympy/sympy/core/numbers.py", line 2100, in __new__
    raise TypeError(
TypeError: Argument of Integer should be of numeric type, got floor(1024/s0).
```

oddly enough, it works if the lhs is a plain Python int.
Floor division with sympy.Integer gives: Argument of Integer should be of numeric type, got floor(1024/s0)
```
import sympy

s0 = sympy.Symbol('s0')
sympy.Integer(1024)//s0
```

gives

```
Traceback (most recent call last):
  File "/Users/ezyang/Dev/sympy/sympy/core/numbers.py", line 2098, in __new__
    ival = int(i)
  File "/Users/ezyang/Dev/sympy/sympy/core/expr.py", line 320, in __int__
    raise TypeError("Cannot convert symbols to int")
TypeError: Cannot convert symbols to int

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "repro.py", line 4, in <module>
    sympy.Integer(1024)//s0
  File "/Users/ezyang/Dev/sympy/sympy/core/decorators.py", line 65, in __sympifyit_wrapper
    return func(a, b)
  File "/Users/ezyang/Dev/sympy/sympy/core/numbers.py", line 2426, in __floordiv__
    return Integer(divmod(self, other)[0])
  File "/Users/ezyang/Dev/sympy/sympy/core/cache.py", line 72, in wrapper
    retval = cfunc(*args, **kwargs)
  File "/Users/ezyang/Dev/sympy/sympy/core/numbers.py", line 2100, in __new__
    raise TypeError(
TypeError: Argument of Integer should be of numeric type, got floor(1024/s0).
```

oddly enough, it works if the lhs is a plain Python int.


## 参考黄金补丁（正确的修复方案）
diff --git a/sympy/core/tests/test_numbers.py b/sympy/core/tests/test_numbers.py
--- a/sympy/core/tests/test_numbers.py
+++ b/sympy/core/tests/test_numbers.py
@@ -16,6 +16,7 @@
 from sympy.core.symbol import Dummy, Symbol
 from sympy.core.sympify import sympify
 from sympy.functions.combinatorial.factorials import factorial
+from sympy.functions.elementary.integers import floor
 from sympy.functions.combinatorial.numbers import fibonacci
 from sympy.functions.elementary.exponential import exp, log
 from sympy.functions.elementary.miscellaneous import sqrt, cbrt
@@ -121,6 +122,7 @@ def test_mod():
 
 
 def test_divmod():
+    x = Symbol("x")
     assert divmod(S(12), S(8)) == Tuple(1, 4)
     assert divmod(-S(12), S(8)) == Tuple(-2, 4)
     assert divmod(S.Zero, S.One) == Tuple(0, 0)
@@ -128,6 +130,7 @@ def test_divmod():
     raises(ZeroDivisionError, lambda: divmod(S.One, S.Zero))
     assert divmod(S(12), 8) == Tuple(1, 4)
     assert divmod(12, S(8)) == Tuple(1, 4)
+    assert S(1024)//x == 1024//x == floor(1024/x)
 
     assert divmod(S("2"), S("3/2")) == Tuple(S("1"), S("1/2"))
     assert divmod(S("3/2"), S("2")) == Tuple(S("0"), S("3/2"))