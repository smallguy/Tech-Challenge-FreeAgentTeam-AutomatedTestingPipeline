# 修复代码生成提示词（实例ID：django__django-7475）
## 代码仓库
django/django

## 原始问题描述
manage.py diffsettings should allow to compare to another settings module (not only to default Django settings)
Description
	
Rationale: I use a hierarchy of settings modules, where settings/local.py imports settings/dev.py imports settings/base.py. I want to see what I customized, e.g. ./manage.py diffsettings --default=settings.base.


## 参考黄金补丁（正确的修复方案）
diff --git a/tests/admin_scripts/tests.py b/tests/admin_scripts/tests.py
--- a/tests/admin_scripts/tests.py
+++ b/tests/admin_scripts/tests.py
@@ -2128,6 +2128,20 @@ def test_all(self):
         self.assertNoOutput(err)
         self.assertOutput(out, "### STATIC_URL = None")
 
+    def test_custom_default(self):
+        """
+        The --default option specifies an alternate settings module for
+        comparison.
+        """
+        self.write_settings('settings_default.py', sdict={'FOO': '"foo"', 'BAR': '"bar1"'})
+        self.addCleanup(self.remove_settings, 'settings_default.py')
+        self.write_settings('settings_to_diff.py', sdict={'FOO': '"foo"', 'BAR': '"bar2"'})
+        self.addCleanup(self.remove_settings, 'settings_to_diff.py')
+        out, err = self.run_manage(['diffsettings', '--settings=settings_to_diff', '--default=settings_default'])
+        self.assertNoOutput(err)
+        self.assertNotInOutput(out, "FOO")
+        self.assertOutput(out, "BAR = 'bar2'")
+
 
 class Dumpdata(AdminScriptTestCase):
     """Tests for dumpdata management command."""