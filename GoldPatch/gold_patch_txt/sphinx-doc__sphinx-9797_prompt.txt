# 修复代码生成提示词（实例ID：sphinx-doc__sphinx-9797）
## 代码仓库
sphinx-doc/sphinx

## 原始问题描述
Overridden classmethod documentation not inherited with autodoc
### Describe the bug

The documentation for a classmethod in a parent class is not inherited by the method re-defined (without documentation) in a child class

### How to Reproduce

Module `src/spam.py`:
```python
class Parent:
    @classmethod
    def method(cls) -> int:
        """Return an integer."""
        return 17


class Child(Parent):
    @classmethod
    def method(cls):
        return 42
```

Sphinx configuration `docs/conf.py`:
```python
project = "spam"
extensions = ["sphinx.ext.autodoc"]
```

Documentation index `docs/index.rst`:
```rst
spam
====

.. automodule:: spam
   :members:
   :undoc-members:
```

Build:
```shell
PYTHONPATH=src sphinx-build docs/ build
```

### Expected behavior

Overridden classmethod to inherit documentation from parent class

### Your project

https://github.com/EpicWink/python-swf-typed

### Screenshots

![Screenshot from 2021-10-21 20-13-39](https://user-images.githubusercontent.com/25142085/138257992-3e1f06b2-d5b1-4195-bfe8-451e09a4828a.png)


### OS

Ubuntu 20.04

### Python version

3.8

### Sphinx version

4.2.0

### Sphinx extensions

sphinx.ext.autodoc

### Additional context

`inspect.getdoc(Child.method)` returns the expected value


## 参考黄金补丁（正确的修复方案）
diff --git a/tests/test_util_inspect.py b/tests/test_util_inspect.py
--- a/tests/test_util_inspect.py
+++ b/tests/test_util_inspect.py
@@ -677,6 +677,25 @@ def func1(a, b, c):
     assert inspect.unpartial(func3) is func1
 
 
+def test_getdoc_inherited_classmethod():
+    class Foo:
+        @classmethod
+        def meth(self):
+            """
+            docstring
+                indented text
+            """
+
+    class Bar(Foo):
+        @classmethod
+        def meth(self):
+            # inherited classmethod
+            pass
+
+    assert inspect.getdoc(Bar.meth, getattr, False, Bar, "meth") is None
+    assert inspect.getdoc(Bar.meth, getattr, True, Bar, "meth") == Foo.meth.__doc__
+
+
 def test_getdoc_inherited_decorated_method():
     class Foo:
         def meth(self):