# 修复代码生成提示词（实例ID：django__django-15752）
## 代码仓库
django/django

## 原始问题描述
Deprecate make_random_password().
Description
	 
		(last modified by Carlton Gibson)
	 
It's unused since fcd837cd0f9b2c706bc49af509628778d442bb3f, see also Carlton's comment.


## 参考黄金补丁（正确的修复方案）
diff --git a/tests/auth_tests/test_models.py b/tests/auth_tests/test_models.py
--- a/tests/auth_tests/test_models.py
+++ b/tests/auth_tests/test_models.py
@@ -18,6 +18,8 @@
 from django.db.migrations.state import ModelState, ProjectState
 from django.db.models.signals import post_save
 from django.test import SimpleTestCase, TestCase, TransactionTestCase, override_settings
+from django.test.utils import ignore_warnings
+from django.utils.deprecation import RemovedInDjango51Warning
 
 from .models import CustomEmailField, IntegerUsernameUser
 
@@ -164,6 +166,7 @@ def test_create_superuser_raises_error_on_false_is_staff(self):
                 is_staff=False,
             )
 
+    @ignore_warnings(category=RemovedInDjango51Warning)
     def test_make_random_password(self):
         allowed_chars = "abcdefg"
         password = UserManager().make_random_password(5, allowed_chars)
@@ -171,6 +174,11 @@ def test_make_random_password(self):
         for char in password:
             self.assertIn(char, allowed_chars)
 
+    def test_make_random_password_warning(self):
+        msg = "BaseUserManager.make_random_password() is deprecated."
+        with self.assertWarnsMessage(RemovedInDjango51Warning, msg):
+            UserManager().make_random_password()
+
     def test_runpython_manager_methods(self):
         def forwards(apps, schema_editor):
             UserModel = apps.get_model("auth", "User")