# 修复代码生成提示词（实例ID：django__django-11053）
## 代码仓库
django/django

## 原始问题描述
Disallow non-uppercase settings in settings.configure()
Description
	
Contradictory to the documentation, settings.configure() and UserSettingsHolder.__getattr__() allow non-upper settings to be set and retrieved, respectively. This allows for the following to happen:
import types
from django.conf import settings
settings.configure(types.SimpleNamespace(foo="bar"), baz="qux")
print(settings.foo, settings.baz) # Doesn't error


## 参考黄金补丁（正确的修复方案）
diff --git a/tests/settings_tests/tests.py b/tests/settings_tests/tests.py
--- a/tests/settings_tests/tests.py
+++ b/tests/settings_tests/tests.py
@@ -1,7 +1,7 @@
 import os
 import sys
 import unittest
-from types import ModuleType
+from types import ModuleType, SimpleNamespace
 from unittest import mock
 
 from django.conf import ENVIRONMENT_VARIABLE, LazySettings, Settings, settings
@@ -318,6 +318,17 @@ def test_already_configured(self):
         with self.assertRaisesMessage(RuntimeError, 'Settings already configured.'):
             settings.configure()
 
+    def test_nonupper_settings_prohibited_in_configure(self):
+        s = LazySettings()
+        with self.assertRaisesMessage(TypeError, "Setting 'foo' must be uppercase."):
+            s.configure(foo='bar')
+
+    def test_nonupper_settings_ignored_in_default_settings(self):
+        s = LazySettings()
+        s.configure(SimpleNamespace(foo='bar'))
+        with self.assertRaises(AttributeError):
+            getattr(s, 'foo')
+
     @requires_tz_support
     @mock.patch('django.conf.global_settings.TIME_ZONE', 'test')
     def test_incorrect_timezone(self):