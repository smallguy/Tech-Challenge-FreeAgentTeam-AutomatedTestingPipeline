# ä¿®å¤ä»£ç ç”Ÿæˆæç¤ºè¯ï¼ˆå®ä¾‹IDï¼šmatplotlib__matplotlib-26300ï¼‰
## ä»£ç ä»“åº“
matplotlib/matplotlib

## åŸå§‹é—®é¢˜æè¿°
[Bug]: calling fig.tight_layout multiple times 
### Bug summary

Calling `fig.tight_layout()` multiple times warns.

### Code for reproduction

```python
import matplotlib.pyplot as plt

fig = plt.figure()
fig.tight_layout()
fig.tight_layout()
```


### Actual outcome

```
<ipython-input-9-0981ef8afcc1>:5: UserWarning: The figure layout has changed to tight
  fig.tight_layout()
```

### Expected outcome

no-warning.

### Additional information

does not show up in 3.7.1, does show up in 3.7.2.  Have not bisected this yet (or checked main).

From looking at the code I suspect 
6a82f38fe06bd40bc7dc2426dc8953a94a06e70d / https://github.com/matplotlib/matplotlib/pull/25626 / https://github.com/matplotlib/matplotlib/pull/25624 which is from me ğŸ˜ .


xref https://github.com/matplotlib/matplotlib/pull/25624

I suspect the fix is to not warn if we set the place holder due to `fig.tight_layout`.


### Operating system

Arch

### Matplotlib Version

3.7.2

### Matplotlib Backend

any

### Python version

3.11

### Jupyter version

_No response_

### Installation

pip


## å‚è€ƒé»„é‡‘è¡¥ä¸ï¼ˆæ­£ç¡®çš„ä¿®å¤æ–¹æ¡ˆï¼‰
diff --git a/lib/matplotlib/tests/test_figure.py b/lib/matplotlib/tests/test_figure.py
--- a/lib/matplotlib/tests/test_figure.py
+++ b/lib/matplotlib/tests/test_figure.py
@@ -701,6 +701,14 @@ def test_layout_change_warning(layout):
         plt.tight_layout()
 
 
+def test_repeated_tightlayout():
+    fig = Figure()
+    fig.tight_layout()
+    # subsequent calls should not warn
+    fig.tight_layout()
+    fig.tight_layout()
+
+
 @check_figures_equal(extensions=["png", "pdf"])
 def test_add_artist(fig_test, fig_ref):
     fig_test.dpi = 100