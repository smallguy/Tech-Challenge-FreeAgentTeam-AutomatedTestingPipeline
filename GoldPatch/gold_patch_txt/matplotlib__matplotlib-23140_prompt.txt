# 修复代码生成提示词（实例ID：matplotlib__matplotlib-23140）
## 代码仓库
matplotlib/matplotlib

## 原始问题描述
Legend Title Left Alignment
I'm trying to align my legend title on the left of the legend box. I assumed this would work:

    leg = ax.get_legend()
    title_inst = leg.get_title()
    title_inst.set_horizontalalignment('left')

However only this worked:

    leg = ax.get_legend()
    leg._legend_box.align = "left"


Seems like something is not working as expected, especially since I'm accessing something hidden.



## 参考黄金补丁（正确的修复方案）
diff --git a/lib/matplotlib/tests/test_legend.py b/lib/matplotlib/tests/test_legend.py
--- a/lib/matplotlib/tests/test_legend.py
+++ b/lib/matplotlib/tests/test_legend.py
@@ -607,6 +607,25 @@ def test_legend_title_fontprop_fontsize():
     assert leg5.get_title().get_fontsize() == 20
 
 
+@pytest.mark.parametrize('alignment', ('center', 'left', 'right'))
+def test_legend_alignment(alignment):
+    fig, ax = plt.subplots()
+    ax.plot(range(10), label='test')
+    leg = ax.legend(title="Aardvark", alignment=alignment)
+    assert leg.get_children()[0].align == alignment
+    assert leg.get_alignment() == alignment
+
+
+@pytest.mark.parametrize('alignment', ('center', 'left', 'right'))
+def test_legend_set_alignment(alignment):
+    fig, ax = plt.subplots()
+    ax.plot(range(10), label='test')
+    leg = ax.legend()
+    leg.set_alignment(alignment)
+    assert leg.get_children()[0].align == alignment
+    assert leg.get_alignment() == alignment
+
+
 @pytest.mark.parametrize('color', ('red', 'none', (.5, .5, .5)))
 def test_legend_labelcolor_single(color):
     # test labelcolor for a single color