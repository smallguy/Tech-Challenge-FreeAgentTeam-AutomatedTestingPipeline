# 修复代码生成提示词（实例ID：matplotlib__matplotlib-24849）
## 代码仓库
matplotlib/matplotlib

## 原始问题描述
[Bug]: gapcolor not supported for LineCollections
### Bug summary

[LineCollection](https://github.com/matplotlib/matplotlib/blob/509315008ce383f7fb5b2dbbdc2a5a966dd83aad/lib/matplotlib/collections.py#L1351) doesn't have a `get_gapcolor` or `set_gapcolor`, so gapcolor doesn't work in plotting methods that return LineCollections (like vlines or hlines). 


### Code for reproduction

```python
fig, ax = plt.subplots(figsize=(1,1))
ax.vlines([.25, .75], 0, 1, linestyle=':', gapcolor='orange')
```


### Actual outcome
```python-traceback
File ~\miniconda3\envs\prop\lib\site-packages\matplotlib\artist.py:1186, in Artist._internal_update(self, kwargs)
-> 1186     return self._update_props(
   1187         kwargs, "{cls.__name__}.set() got an unexpected keyword argument "
   1188         "{prop_name!r}")

AttributeError: LineCollection.set() got an unexpected keyword argument 'gapcolor'
```
### Expected outcome

![image](https://user-images.githubusercontent.com/1300499/208810250-bb73962c-e988-4079-88cf-f52719aed2e0.png)


### Additional information

I think the easiest fix is probably add `set_color` and `get_color` to LineCollection, modeled on `get_color` and `set_color`

https://github.com/matplotlib/matplotlib/blob/509315008ce383f7fb5b2dbbdc2a5a966dd83aad/lib/matplotlib/collections.py#L1463-L1481

### Matplotlib Version

3.7.0.dev1121+g509315008c



## 参考黄金补丁（正确的修复方案）
diff --git a/lib/matplotlib/tests/test_collections.py b/lib/matplotlib/tests/test_collections.py
--- a/lib/matplotlib/tests/test_collections.py
+++ b/lib/matplotlib/tests/test_collections.py
@@ -1,5 +1,6 @@
 from datetime import datetime
 import io
+import itertools
 import re
 from types import SimpleNamespace
 
@@ -1191,3 +1192,27 @@ def test_check_offsets_dtype():
     unmasked_offsets = np.column_stack([x, y])
     scat.set_offsets(unmasked_offsets)
     assert isinstance(scat.get_offsets(), type(unmasked_offsets))
+
+
+@pytest.mark.parametrize('gapcolor', ['orange', ['r', 'k']])
+@check_figures_equal(extensions=['png'])
+@mpl.rc_context({'lines.linewidth': 20})
+def test_striped_lines(fig_test, fig_ref, gapcolor):
+    ax_test = fig_test.add_subplot(111)
+    ax_ref = fig_ref.add_subplot(111)
+
+    for ax in [ax_test, ax_ref]:
+        ax.set_xlim(0, 6)
+        ax.set_ylim(0, 1)
+
+    x = range(1, 6)
+    linestyles = [':', '-', '--']
+
+    ax_test.vlines(x, 0, 1, linestyle=linestyles, gapcolor=gapcolor, alpha=0.5)
+
+    if isinstance(gapcolor, str):
+        gapcolor = [gapcolor]
+
+    for x, gcol, ls in zip(x, itertools.cycle(gapcolor),
+                           itertools.cycle(linestyles)):
+        ax_ref.axvline(x, 0, 1, linestyle=ls, gapcolor=gcol, alpha=0.5)