# 修复代码生成提示词（实例ID：sympy__sympy-18109）
## 代码仓库
sympy/sympy

## 原始问题描述
Why pretty print of "oo - oo" has result  "nan", if the evaluation is disabled?
```python
from sympy import evaluate, oo, pretty

with evaluate(False):
    print(pretty(oo-oo))
```


## 参考黄金补丁（正确的修复方案）
diff --git a/sympy/core/tests/test_evaluate.py b/sympy/core/tests/test_evaluate.py
--- a/sympy/core/tests/test_evaluate.py
+++ b/sympy/core/tests/test_evaluate.py
@@ -1,9 +1,25 @@
 from sympy.abc import x, y
 from sympy.core.evaluate import evaluate
 from sympy.core import Mul, Add, Pow, S
-from sympy import sqrt
+from sympy import sqrt, oo, pretty, nan
 
 def test_add():
+    with evaluate(False):
+        p = oo - oo
+        assert isinstance(p, Add) and p.args == (oo, -oo)
+        p = 5 - oo
+        assert isinstance(p, Add) and p.args == (-oo, 5)
+        p = oo - 5
+        assert isinstance(p, Add) and p.args == (oo, -5)
+        p = oo + 5
+        assert isinstance(p, Add) and p.args == (oo, 5)
+        p = 5 + oo
+        assert isinstance(p, Add) and p.args == (oo, 5)
+        p = -oo + 5
+        assert isinstance(p, Add) and p.args == (-oo, 5)
+        p = -5 - oo
+        assert isinstance(p, Add) and p.args == (-oo, -5)
+
     with evaluate(False):
         expr = x + x
         assert isinstance(expr, Add)