# 修复代码生成提示词（实例ID：matplotlib__matplotlib-24403）
## 代码仓库
matplotlib/matplotlib

## 原始问题描述
[ENH]: Use `repr` instead of `str` in the error message
### Problem

I mistakenly supplied `"blue\n"` as the argument `c` for [`matplotlib.axes.Axes.scatter
`](https://matplotlib.org/stable/api/_as_gen/matplotlib.axes.Axes.scatter.html#matplotlib-axes-axes-scatter), then `matplitlib` claimed for illegal color name like this:

```
ValueError: 'c' argument must be a color, a sequence of colors, or a sequence of numbers, not blue
```

I was not aware that the argument actually contained a trailing newline so I was very confused. 

### Proposed solution

The error message would be nicer if it outputs user's input via `repr`.
For example, in this case the error message [here](https://github.com/matplotlib/matplotlib/blob/v3.5.1/lib/matplotlib/axes/_axes.py#L4230-L4232) can be easily replced with:

```python
                    raise ValueError(
                        f"'c' argument must be a color, a sequence of colors, "
                        f"or a sequence of numbers, not {c!r}") from 
```

so that we may now get an easy-to-troubleshoot error like this:

```
ValueError: 'c' argument must be a color, a sequence of colors, or a sequence of numbers, not "blue\n"
```

This kind of improvement can be applied to many other places.


## 参考黄金补丁（正确的修复方案）
diff --git a/lib/matplotlib/tests/test_axes.py b/lib/matplotlib/tests/test_axes.py
--- a/lib/matplotlib/tests/test_axes.py
+++ b/lib/matplotlib/tests/test_axes.py
@@ -8290,3 +8290,17 @@ def test_extent_units():
     with pytest.raises(ValueError,
                        match="set_extent did not consume all of the kwargs"):
         im.set_extent([2, 12, date_first, date_last], clip=False)
+
+
+def test_scatter_color_repr_error():
+
+    def get_next_color():
+        return 'blue'  # pragma: no cover
+    msg = (
+            r"'c' argument must be a color, a sequence of colors"
+            r", or a sequence of numbers, not 'red\\n'"
+        )
+    with pytest.raises(ValueError, match=msg):
+        c = 'red\n'
+        mpl.axes.Axes._parse_scatter_color_args(
+            c, None, kwargs={}, xsize=2, get_next_color_func=get_next_color)