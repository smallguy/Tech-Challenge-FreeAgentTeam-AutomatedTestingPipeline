# 修复代码生成提示词（实例ID：astropy__astropy-7008）
## 代码仓库
astropy/astropy

## 原始问题描述
Context manager for constant versions
For some use cases it would be helpful to have a context manager to set the version set of the constants. E.g., something like 
```
with constants_set(astropyconst13):
    ... code goes here ...
````


## 参考黄金补丁（正确的修复方案）
diff --git a/astropy/constants/tests/test_prior_version.py b/astropy/constants/tests/test_prior_version.py
--- a/astropy/constants/tests/test_prior_version.py
+++ b/astropy/constants/tests/test_prior_version.py
@@ -1,7 +1,5 @@
 # Licensed under a 3-clause BSD style license - see LICENSE.rst
 
-
-
 import copy
 
 import pytest
@@ -155,3 +153,16 @@ def test_view():
 
     c4 = Q(c, subok=True, copy=False)
     assert c4 is c
+
+
+def test_context_manager():
+    from ... import constants as const
+
+    with const.set_enabled_constants('astropyconst13'):
+        assert const.h.value == 6.62606957e-34  # CODATA2010
+
+    assert const.h.value == 6.626070040e-34  # CODATA2014
+
+    with pytest.raises(ValueError):
+        with const.set_enabled_constants('notreal'):
+            const.h