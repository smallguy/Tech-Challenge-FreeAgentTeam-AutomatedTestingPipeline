# 修复代码生成提示词（实例ID：sympy__sympy-17251）
## 代码仓库
sympy/sympy

## 原始问题描述
exp doesn't simplify based on its periodicity
In current master, `exp` doesn't use its periodicity to automatically reduce its argument, not even for purely imaginary arguments:
```
>>> exp(9*I*pi/4)
 9⋅ⅈ⋅π
 ─────
   4
ℯ
>>> simplify(exp(9*I*pi/4))
 9⋅ⅈ⋅π
 ─────
   4
ℯ
>>> a = exp(9*I*pi/4) - exp(I*pi/4); a
   ⅈ⋅π    9⋅ⅈ⋅π
   ───    ─────
    4       4
- ℯ    + ℯ
>>> simplify(a)
            9⋅ⅈ⋅π
            ─────
  4 ____      4
- ╲╱ -1  + ℯ
>>> expand_complex(a)
0
```


## 参考黄金补丁（正确的修复方案）
diff --git a/sympy/functions/elementary/tests/test_exponential.py b/sympy/functions/elementary/tests/test_exponential.py
--- a/sympy/functions/elementary/tests/test_exponential.py
+++ b/sympy/functions/elementary/tests/test_exponential.py
@@ -48,6 +48,25 @@ def test_exp_values():
     assert exp(oo, evaluate=False).is_finite is False
 
 
+def test_exp_period():
+    assert exp(9*I*pi/4) == exp(I*pi/4)
+    assert exp(46*I*pi/18) == exp(5*I*pi/9)
+    assert exp(25*I*pi/7) == exp(-3*I*pi/7)
+    assert exp(-19*I*pi/3) == exp(-I*pi/3)
+    assert exp(37*I*pi/8) - exp(-11*I*pi/8) == 0
+    assert exp(-5*I*pi/3) / exp(11*I*pi/5) * exp(148*I*pi/15) == 1
+
+    assert exp(2 - 17*I*pi/5) == exp(2 + 3*I*pi/5)
+    assert exp(log(3) + 29*I*pi/9) == 3 * exp(-7*I*pi/9)
+
+    n = Symbol('n', integer=True)
+    e = Symbol('e', even=True)
+    assert exp(e*I*pi) == 1
+    assert exp((e + 1)*I*pi) == -1
+    assert exp((1 + 4*n)*I*pi/2) == I
+    assert exp((-1 + 4*n)*I*pi/2) == -I
+
+
 def test_exp_log():
     x = Symbol("x", real=True)
     assert log(exp(x)) == x